<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verita AI - Interview Transcript Assessment</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
    <!-- <script>
        tailwind.config = {
            corePlugins: {
                preflight: false,
            },
        }
    </script> -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
    </style>
</head>
<body class="bg-white">
    <header class="bg-blue-500 p-4">
        <nav class="container mx-auto flex justify-between items-center">
            <div class="flex items-center">
                <svg width="37" height="30" viewBox="0 0 37 30" fill="none" xmlns="http://www.w3.org/2000/svg" class="mr-2">
                    <g clip-path="url(#clip0_9_316)">
                    <path d="M0 2.86525V9.6182C0 11.6749 2.50611 12.7719 4.03763 11.3322L11.3471 4.5792C12.9483 3.1052 11.904 0.5 9.71119 0.5H2.40169C1.07902 0.5 0 1.56265 0 2.86525Z" fill="white"/>
                    <path d="M34.5983 0.5H27.2888C25.1308 0.5 24.0517 3.1052 25.6529 4.5792L32.9624 11.3322C34.4939 12.7376 37 11.6749 37 9.6182V2.86525C37 1.56265 35.921 0.5 34.5983 0.5Z" fill="white"/>
                    <path d="M20.1533 15.3002L32.9624 27.1608C34.4939 28.5662 37 27.5035 37 25.4468V18.6253C37 17.974 36.7215 17.357 36.2342 16.9113L20.1533 2C19.2135 1.14303 17.7865 1.14303 16.8467 2L0.765757 16.9113C0.278457 17.357 0 17.974 0 18.6253V25.4468C0 27.5035 2.50611 28.6005 4.03763 27.1608L16.8467 15.3002C17.7865 14.4433 19.2135 14.4433 20.1533 15.3002Z" fill="white"/>
                    </g>
                    <defs>
                    <clipPath id="clip0_9_316">
                    <rect width="37" height="29" fill="white" transform="translate(0 0.5)"/>
                    </clipPath>
                    </defs>
                </svg>
                <svg width="116" height="23" viewBox="0 0 116 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M5.44886 1.63636L10.3707 17.108H10.5597L15.4915 1.63636H20.2642L13.2443 22H7.69602L0.666193 1.63636H5.44886ZM27.8732 22.2983C26.3022 22.2983 24.9499 21.9801 23.8164 21.3438C22.6895 20.7008 21.8211 19.7926 21.2113 18.6193C20.6014 17.4394 20.2965 16.044 20.2965 14.4332C20.2965 12.8622 20.6014 11.4834 21.2113 10.2969C21.8211 9.11032 22.6796 8.18561 23.7866 7.52273C24.9002 6.85985 26.2061 6.52841 27.7042 6.52841C28.7118 6.52841 29.6497 6.69081 30.5181 7.01562C31.3931 7.33381 32.1554 7.81439 32.805 8.45739C33.4613 9.10038 33.9717 9.90909 34.3363 10.8835C34.7009 11.8513 34.8832 12.9848 34.8832 14.2841V15.4474H21.9869V12.8224H30.896C30.896 12.2126 30.7634 11.6723 30.4982 11.2017C30.2331 10.7311 29.8652 10.3632 29.3945 10.098C28.9305 9.82623 28.3903 9.69034 27.7738 9.69034C27.1308 9.69034 26.5607 9.83949 26.0636 10.1378C25.573 10.4295 25.1886 10.8239 24.9102 11.321C24.6317 11.8116 24.4892 12.3584 24.4826 12.9616V15.4574C24.4826 16.2131 24.6218 16.866 24.9002 17.4162C25.1853 17.9664 25.5863 18.3906 26.1033 18.6889C26.6204 18.9872 27.2335 19.1364 27.9428 19.1364C28.4135 19.1364 28.8443 19.0701 29.2354 18.9375C29.6265 18.8049 29.9613 18.6061 30.2397 18.3409C30.5181 18.0758 30.7302 17.7509 30.8761 17.3665L34.7937 17.625C34.5948 18.5663 34.1871 19.3883 33.5707 20.0909C32.9608 20.7869 32.172 21.3305 31.2042 21.7216C30.243 22.1061 29.1327 22.2983 27.8732 22.2983ZM37.6474 22V6.72727H41.7539V9.39205H41.913C42.1914 8.44413 42.6587 7.72822 43.315 7.24432C43.9712 6.75379 44.7269 6.50852 45.582 6.50852C45.7942 6.50852 46.0228 6.52178 46.2681 6.54829C46.5134 6.57481 46.7288 6.61127 46.9144 6.65767V10.4162C46.7156 10.3565 46.4405 10.3035 46.0891 10.2571C45.7378 10.2107 45.4163 10.1875 45.1246 10.1875C44.5015 10.1875 43.9447 10.3234 43.4542 10.5952C42.9703 10.8603 42.5858 11.2315 42.3008 11.7088C42.0224 12.1861 41.8832 12.7363 41.8832 13.3594V22H37.6474ZM49.1044 22V6.72727H53.3402V22H49.1044ZM51.2322 4.75852C50.6025 4.75852 50.0623 4.54972 49.6115 4.1321C49.1674 3.70786 48.9453 3.20076 48.9453 2.61079C48.9453 2.02746 49.1674 1.52699 49.6115 1.10938C50.0623 0.685132 50.6025 0.47301 51.2322 0.47301C51.862 0.47301 52.3989 0.685132 52.843 1.10938C53.2938 1.52699 53.5192 2.02746 53.5192 2.61079C53.5192 3.20076 53.2938 3.70786 52.843 4.1321C52.3989 4.54972 51.862 4.75852 51.2322 4.75852ZM64.8569 6.72727V9.90909H55.6594V6.72727H64.8569ZM57.7475 3.06818H61.9833V17.3068C61.9833 17.6979 62.043 18.0028 62.1623 18.2216C62.2816 18.4337 62.4473 18.5829 62.6594 18.669C62.8782 18.7552 63.1301 18.7983 63.4151 18.7983C63.614 18.7983 63.8129 18.7817 64.0117 18.7486C64.2106 18.7088 64.363 18.679 64.4691 18.6591L65.1353 21.8111C64.9232 21.8774 64.6249 21.9536 64.2404 22.0398C63.8559 22.1326 63.3886 22.1889 62.8384 22.2088C61.8176 22.2486 60.9227 22.1127 60.1538 21.8011C59.3915 21.4896 58.7982 21.0057 58.3739 20.3494C57.9497 19.6932 57.7409 18.8646 57.7475 17.8636V3.06818ZM71.9712 22.2884C70.9968 22.2884 70.1284 22.1193 69.3661 21.7812C68.6038 21.4366 68.0006 20.9295 67.5565 20.2599C67.119 19.5838 66.9002 18.742 66.9002 17.7344C66.9002 16.8859 67.056 16.1733 67.3675 15.5966C67.6791 15.0199 68.1033 14.5559 68.6403 14.2045C69.1772 13.8532 69.7871 13.5881 70.4698 13.4091C71.1592 13.2301 71.8817 13.1042 72.6374 13.0312C73.5257 12.9384 74.2416 12.8523 74.7852 12.7727C75.3287 12.6866 75.7231 12.5606 75.9684 12.3949C76.2137 12.2292 76.3363 11.9839 76.3363 11.6591V11.5994C76.3363 10.9697 76.1374 10.4825 75.7397 10.1378C75.3486 9.79309 74.7918 9.62074 74.0692 9.62074C73.3069 9.62074 72.7004 9.78977 72.2496 10.1278C71.7989 10.4593 71.5006 10.8769 71.3548 11.3807L67.4371 11.0625C67.636 10.1345 68.0271 9.33239 68.6104 8.65625C69.1938 7.97348 69.9461 7.44981 70.8675 7.08523C71.7956 6.71401 72.8694 6.52841 74.0891 6.52841C74.9376 6.52841 75.7496 6.62784 76.5252 6.8267C77.3074 7.02557 78.0001 7.33381 78.6033 7.75142C79.2132 8.16903 79.6938 8.70597 80.0451 9.36222C80.3964 10.0118 80.5721 10.7907 80.5721 11.6989V22H76.555V19.8821H76.4357C76.1905 20.3594 75.8623 20.7803 75.4513 21.1449C75.0404 21.5028 74.5465 21.7846 73.9698 21.9901C73.3931 22.1889 72.7269 22.2884 71.9712 22.2884ZM73.1843 19.3651C73.8074 19.3651 74.3576 19.2424 74.8349 18.9972C75.3121 18.7453 75.6867 18.4072 75.9585 17.983C76.2302 17.5587 76.3661 17.0781 76.3661 16.5412V14.9205C76.2335 15.0066 76.0513 15.0862 75.8192 15.1591C75.5939 15.2254 75.3387 15.2884 75.0536 15.348C74.7686 15.401 74.4835 15.4508 74.1985 15.4972C73.9135 15.5369 73.6549 15.5734 73.4229 15.6065C72.9258 15.6795 72.4916 15.7955 72.1204 15.9545C71.7492 16.1136 71.4608 16.3291 71.2553 16.6009C71.0498 16.866 70.9471 17.1974 70.9471 17.5952C70.9471 18.1719 71.1559 18.6127 71.5735 18.9176C71.9978 19.2159 72.5347 19.3651 73.1843 19.3651ZM93.9283 22H89.3146L96.3445 1.63636H101.893L108.913 22H104.299L99.1982 6.28977H99.0391L93.9283 22ZM93.6399 13.9957H104.538V17.3565H93.6399V13.9957ZM115.669 1.63636V22H111.364V1.63636H115.669Z" fill="white"/>
                </svg>
            </div>
                
                
            <div class="space-x-4">
                <a href="/" class="text-white">Home</a>
                <a href="/features" class="text-white">Features</a>
                <a href="#" class="text-white">Pricing</a>
                <a href="#" class="text-white">Resources</a>
                <a href="#" class="bg-white text-blue-500 px-4 py-2 rounded-full font-semibold">Sign Up</a>
            </div>
        </nav>
    </header>

    <main class="container mx-auto py-12">
        <h1 class="text-3xl font-bold mb-8 text-center">Interview Transcript Assessment</h1>

        <div class="max-w-3xl mx-auto">
            <div class="mb-6">
                <label for="framework" class="block text-sm font-medium text-gray-700 mb-2">Select UX Research Framework</label>
                <select id="framework" name="framework" class="block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500">
                    <option value="nielsen">Nielsen's 10 Usability Heuristics</option>
                    <option value="ideo">IDEO's Human-Centered Design</option>
                    <option value="double_diamond">Double Diamond Design Process</option>
                    <option value="lean_ux">Lean UX</option>
                    <option value="jobs_to_be_done">Jobs to be Done (JTBD)</option>
                    <option value="jump_associates">Jump Associates' UX Research Framework</option>
                </select>
            </div>

            <div class="mb-6">
                <label for="transcription" class="block text-sm font-medium text-gray-700 mb-2">Paste Interview Transcript</label>
                <textarea id="transcription" name="transcription" rows="10" required class="block w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500" placeholder="Paste your interview transcript here..."></textarea>
            </div>

            <div class="flex justify-between items-center mb-8">
                <!-- <button class="bg-blue-500 text-white px-6 py-3 rounded-full font-semibold text-lg hover:bg-blue-600 transition duration-300">Analyze Transcript</button> -->
                <button id="startTranscription" class="bg-green-500 text-white px-6 py-3 rounded-full font-semibold text-lg hover:bg-green-600 transition duration-300">Start Real-Time Transcription</button>
                <button id="stopTranscription" class="bg-red-500 text-white px-6 py-3 rounded-full font-semibold text-lg hover:bg-red-600 transition duration-300" style="display: none;">Stop Real-Time Transcription</button>

            </div>

            <div class="bg-gray-100 p-6 rounded-lg">
                <h2 class="text-xl font-bold mb-4">Interview Feedback</h2>
                <div id="feedback" class="space-y-4 leading-normal">
                    <p class="text-gray-700">Your interview feedback will appear here after analysis.</p>
                    <!-- Placeholder for feedback content -->
                    <div id="loading" class="spinner-border text-primary" role="status" style="display: none;">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                    <!-- <div class="hidden"> -->
                        <!-- <h3 class="font-semibold text-lg mb-2">Key Insights:</h3>
                        <ul class="list-disc list-inside space-y-2">
                            <li>Insight 1</li>
                            <li>Insight 2</li>
                            <li>Insight 3</li>
                        </ul>
                        <h3 class="font-semibold text-lg mt-4 mb-2">Recommendations:</h3>
                        <ul class="list-disc list-inside space-y-2">
                            <li>Recommendation 1</li>
                            <li>Recommendation 2</li>
                            <li>Recommendation 3</li>
                        </ul> -->
                    <div id="assessment-results" class="mt-3"></div>
                    <div id="error-message" class="alert alert-danger mt-3" style="display: none;"></div>
                    <!-- </div> -->
                </div>
            </div>
        </div>
    </main>

    <footer class="bg-blue-500 text-white py-12 mt-12">
        <div class="container mx-auto grid grid-cols-1 md:grid-cols-4 gap-8">
            <div>
                <div class="flex items-center">
                    <svg width="37" height="30" viewBox="0 0 37 30" fill="none" xmlns="http://www.w3.org/2000/svg" class="mr-2">
                        <g clip-path="url(#clip0_9_316)">
                        <path d="M0 2.86525V9.6182C0 11.6749 2.50611 12.7719 4.03763 11.3322L11.3471 4.5792C12.9483 3.1052 11.904 0.5 9.71119 0.5H2.40169C1.07902 0.5 0 1.56265 0 2.86525Z" fill="white"/>
                        <path d="M34.5983 0.5H27.2888C25.1308 0.5 24.0517 3.1052 25.6529 4.5792L32.9624 11.3322C34.4939 12.7376 37 11.6749 37 9.6182V2.86525C37 1.56265 35.921 0.5 34.5983 0.5Z" fill="white"/>
                        <path d="M20.1533 15.3002L32.9624 27.1608C34.4939 28.5662 37 27.5035 37 25.4468V18.6253C37 17.974 36.7215 17.357 36.2342 16.9113L20.1533 2C19.2135 1.14303 17.7865 1.14303 16.8467 2L0.765757 16.9113C0.278457 17.357 0 17.974 0 18.6253V25.4468C0 27.5035 2.50611 28.6005 4.03763 27.1608L16.8467 15.3002C17.7865 14.4433 19.2135 14.4433 20.1533 15.3002Z" fill="white"/>
                        </g>
                        <defs>
                        <clipPath id="clip0_9_316">
                        <rect width="37" height="29" fill="white" transform="translate(0 0.5)"/>
                        </clipPath>
                        </defs>
                    </svg>
                    <svg width="116" height="23" viewBox="0 0 116 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M5.44886 1.63636L10.3707 17.108H10.5597L15.4915 1.63636H20.2642L13.2443 22H7.69602L0.666193 1.63636H5.44886ZM27.8732 22.2983C26.3022 22.2983 24.9499 21.9801 23.8164 21.3438C22.6895 20.7008 21.8211 19.7926 21.2113 18.6193C20.6014 17.4394 20.2965 16.044 20.2965 14.4332C20.2965 12.8622 20.6014 11.4834 21.2113 10.2969C21.8211 9.11032 22.6796 8.18561 23.7866 7.52273C24.9002 6.85985 26.2061 6.52841 27.7042 6.52841C28.7118 6.52841 29.6497 6.69081 30.5181 7.01562C31.3931 7.33381 32.1554 7.81439 32.805 8.45739C33.4613 9.10038 33.9717 9.90909 34.3363 10.8835C34.7009 11.8513 34.8832 12.9848 34.8832 14.2841V15.4474H21.9869V12.8224H30.896C30.896 12.2126 30.7634 11.6723 30.4982 11.2017C30.2331 10.7311 29.8652 10.3632 29.3945 10.098C28.9305 9.82623 28.3903 9.69034 27.7738 9.69034C27.1308 9.69034 26.5607 9.83949 26.0636 10.1378C25.573 10.4295 25.1886 10.8239 24.9102 11.321C24.6317 11.8116 24.4892 12.3584 24.4826 12.9616V15.4574C24.4826 16.2131 24.6218 16.866 24.9002 17.4162C25.1853 17.9664 25.5863 18.3906 26.1033 18.6889C26.6204 18.9872 27.2335 19.1364 27.9428 19.1364C28.4135 19.1364 28.8443 19.0701 29.2354 18.9375C29.6265 18.8049 29.9613 18.6061 30.2397 18.3409C30.5181 18.0758 30.7302 17.7509 30.8761 17.3665L34.7937 17.625C34.5948 18.5663 34.1871 19.3883 33.5707 20.0909C32.9608 20.7869 32.172 21.3305 31.2042 21.7216C30.243 22.1061 29.1327 22.2983 27.8732 22.2983ZM37.6474 22V6.72727H41.7539V9.39205H41.913C42.1914 8.44413 42.6587 7.72822 43.315 7.24432C43.9712 6.75379 44.7269 6.50852 45.582 6.50852C45.7942 6.50852 46.0228 6.52178 46.2681 6.54829C46.5134 6.57481 46.7288 6.61127 46.9144 6.65767V10.4162C46.7156 10.3565 46.4405 10.3035 46.0891 10.2571C45.7378 10.2107 45.4163 10.1875 45.1246 10.1875C44.5015 10.1875 43.9447 10.3234 43.4542 10.5952C42.9703 10.8603 42.5858 11.2315 42.3008 11.7088C42.0224 12.1861 41.8832 12.7363 41.8832 13.3594V22H37.6474ZM49.1044 22V6.72727H53.3402V22H49.1044ZM51.2322 4.75852C50.6025 4.75852 50.0623 4.54972 49.6115 4.1321C49.1674 3.70786 48.9453 3.20076 48.9453 2.61079C48.9453 2.02746 49.1674 1.52699 49.6115 1.10938C50.0623 0.685132 50.6025 0.47301 51.2322 0.47301C51.862 0.47301 52.3989 0.685132 52.843 1.10938C53.2938 1.52699 53.5192 2.02746 53.5192 2.61079C53.5192 3.20076 53.2938 3.70786 52.843 4.1321C52.3989 4.54972 51.862 4.75852 51.2322 4.75852ZM64.8569 6.72727V9.90909H55.6594V6.72727H64.8569ZM57.7475 3.06818H61.9833V17.3068C61.9833 17.6979 62.043 18.0028 62.1623 18.2216C62.2816 18.4337 62.4473 18.5829 62.6594 18.669C62.8782 18.7552 63.1301 18.7983 63.4151 18.7983C63.614 18.7983 63.8129 18.7817 64.0117 18.7486C64.2106 18.7088 64.363 18.679 64.4691 18.6591L65.1353 21.8111C64.9232 21.8774 64.6249 21.9536 64.2404 22.0398C63.8559 22.1326 63.3886 22.1889 62.8384 22.2088C61.8176 22.2486 60.9227 22.1127 60.1538 21.8011C59.3915 21.4896 58.7982 21.0057 58.3739 20.3494C57.9497 19.6932 57.7409 18.8646 57.7475 17.8636V3.06818ZM71.9712 22.2884C70.9968 22.2884 70.1284 22.1193 69.3661 21.7812C68.6038 21.4366 68.0006 20.9295 67.5565 20.2599C67.119 19.5838 66.9002 18.742 66.9002 17.7344C66.9002 16.8859 67.056 16.1733 67.3675 15.5966C67.6791 15.0199 68.1033 14.5559 68.6403 14.2045C69.1772 13.8532 69.7871 13.5881 70.4698 13.4091C71.1592 13.2301 71.8817 13.1042 72.6374 13.0312C73.5257 12.9384 74.2416 12.8523 74.7852 12.7727C75.3287 12.6866 75.7231 12.5606 75.9684 12.3949C76.2137 12.2292 76.3363 11.9839 76.3363 11.6591V11.5994C76.3363 10.9697 76.1374 10.4825 75.7397 10.1378C75.3486 9.79309 74.7918 9.62074 74.0692 9.62074C73.3069 9.62074 72.7004 9.78977 72.2496 10.1278C71.7989 10.4593 71.5006 10.8769 71.3548 11.3807L67.4371 11.0625C67.636 10.1345 68.0271 9.33239 68.6104 8.65625C69.1938 7.97348 69.9461 7.44981 70.8675 7.08523C71.7956 6.71401 72.8694 6.52841 74.0891 6.52841C74.9376 6.52841 75.7496 6.62784 76.5252 6.8267C77.3074 7.02557 78.0001 7.33381 78.6033 7.75142C79.2132 8.16903 79.6938 8.70597 80.0451 9.36222C80.3964 10.0118 80.5721 10.7907 80.5721 11.6989V22H76.555V19.8821H76.4357C76.1905 20.3594 75.8623 20.7803 75.4513 21.1449C75.0404 21.5028 74.5465 21.7846 73.9698 21.9901C73.3931 22.1889 72.7269 22.2884 71.9712 22.2884ZM73.1843 19.3651C73.8074 19.3651 74.3576 19.2424 74.8349 18.9972C75.3121 18.7453 75.6867 18.4072 75.9585 17.983C76.2302 17.5587 76.3661 17.0781 76.3661 16.5412V14.9205C76.2335 15.0066 76.0513 15.0862 75.8192 15.1591C75.5939 15.2254 75.3387 15.2884 75.0536 15.348C74.7686 15.401 74.4835 15.4508 74.1985 15.4972C73.9135 15.5369 73.6549 15.5734 73.4229 15.6065C72.9258 15.6795 72.4916 15.7955 72.1204 15.9545C71.7492 16.1136 71.4608 16.3291 71.2553 16.6009C71.0498 16.866 70.9471 17.1974 70.9471 17.5952C70.9471 18.1719 71.1559 18.6127 71.5735 18.9176C71.9978 19.2159 72.5347 19.3651 73.1843 19.3651ZM93.9283 22H89.3146L96.3445 1.63636H101.893L108.913 22H104.299L99.1982 6.28977H99.0391L93.9283 22ZM93.6399 13.9957H104.538V17.3565H93.6399V13.9957ZM115.669 1.63636V22H111.364V1.63636H115.669Z" fill="white"/>
                    </svg>
                </div>
                <p class="mt-4 pr-20">Built for the future of UX research. Empowering teams to collaborate and generate insights with AI, wherever they are.</p>
            </div>
            <div>
                <h3 class="font-bold mb-4">Product</h3>
                <ul class="space-y-2">
                    <li><a href="/features">Features</a></li>
                    <li><a href="#">Pricing</a></li>
                    <li><a href="#">Integrations</a></li>
                </ul>
            </div>
            <div>
                <h3 class="font-bold mb-4">Resources</h3>
                <ul class="space-y-2">
                    <li><a href="#">Blog</a></li>
                    <li><a href="#">Help Center</a></li>
                    <li><a href="#">Careers</a></li>
                </ul>
            </div>
            <div>
                <h3 class="font-bold mb-4">Company</h3>
                <ul class="space-y-2">
                    <li><a href="#">About Us</a></li>
                    <li><a href="#">Contact</a></li>
                    <li><a href="#">Privacy Policy</a></li>
                </ul>
            </div>
        </div>
        <div class="container mx-auto mt-8 pt-8 border-t border-blue-400 text-center">
            <p>&copy; 2024 Verita AI. All rights reserved.</p>
        </div>
    </footer>

    <script>
        const socket = io();
        let isTranscribing = false;
        let transcriptionInterval;

        document.getElementById('startTranscription').addEventListener('click', () => {
            isTranscribing = true;
            document.getElementById('startTranscription').style.display = 'none';
            document.getElementById('stopTranscription').style.display = 'inline-block';
            document.getElementById('assessment-results').innerHTML = '';
            document.getElementById('error-message').style.display = 'none';
            startRealTimeTranscription();
        });

        document.getElementById('stopTranscription').addEventListener('click', () => {
            isTranscribing = false;
            document.getElementById('startTranscription').style.display = 'inline-block';
            document.getElementById('stopTranscription').style.display = 'none';
            clearInterval(transcriptionInterval);
        });

        function startRealTimeTranscription() {
            transcriptionInterval = setInterval(() => {
                if (!isTranscribing) return;

                const transcription = document.getElementById('transcription').value;
                const framework = document.getElementById('framework').value;
                console.log('Sending transcription:', transcription);
                console.log('Selected framework:', framework);
                document.getElementById('loading').style.display = 'inline-block';
                socket.emit('transcribe', { transcription: transcription, framework: framework });
            }, 5000); // Send transcription every 5 seconds
        }

        socket.on('assessment_result', (data) => {
            console.log('Received assessment result:', data);
            document.getElementById('loading').style.display = 'none';
            const assessmentDiv = document.getElementById('assessment-results');
            assessmentDiv.innerHTML = `
                <h3 class="text-xl font-bold">Latest Assessment:</h3>
                <h4 class="text-lg font-semibold my-4">Key Insights:</h4>
                <ul class="list-inside list-disc pl-4">${data.assessment.key_insights.map(insight => `<li>${insight}</li>`).join('')}</ul>
                <h4 class="font-semibold text-lg my-4">User Pain Points:</h4>
                <ul class="list-inside list-disc pl-4">${data.assessment.user_pain_points.map(point => `<li>${point}</li>`).join('')}</ul>
                <h4 class="font-semibold my-4">Areas for Improvement:</h4>
                <ul class="list-inside list-disc pl-4">${data.assessment.areas_for_improvement.map(area => `<li>${area}</li>`).join('')}</ul>
                <h4 class="font-semibold my-4">Overall Quality Score:</h4>
                <p>${data.assessment.overall_quality_score}/100</p>
                <h4 class="font-semibold my-4">Recommendations:</h4>
                <ul class="list-inside list-disc pl-4">${data.assessment.recommendations.map(rec => `<li>${rec}</li>`).join('')}</ul>
                <h4 class="font-semibold my-4">Framework-specific Analysis:</h4>
                <ul class="list-inside list-disc pl-4">${Object.entries(data.assessment.framework_specific_analysis || {}).map(([key, value]) => `<li>${key}: ${value}</li>`).join('')}</ul>
            `;
        });

        socket.on('assessment_error', (data) => {
            console.error('Assessment error:', data);
            document.getElementById('loading').style.display = 'none';
            const errorDiv = document.getElementById('error-message');
            errorDiv.textContent = `Error: ${data.error}`;
            errorDiv.style.display = 'block';
        });

        // Fetch the latest assessment on page load
        fetch('/get-latest-assessment')
            .then(response => response.json())
            .then(data => {
                console.log('Fetched latest assessment:', data);
                if (data.assessment) {
                    const assessmentDiv = document.getElementById('assessment-results');
                    assessmentDiv.innerHTML = `
                        <h3 class="text-xl font-bold">Latest Assessment:</h3>
                        <h4 class="text-lg font-semibold my-4">Key Insights:</h4>
                        <ul class="list-inside list-disc pl-4">${data.assessment.key_insights.map(insight => `<li>${insight}</li>`).join('')}</ul>
                        <h4 class="font-semibold text-lg my-4">User Pain Points:</h4>
                        <ul class="list-inside list-disc pl-4">${data.assessment.user_pain_points.map(point => `<li>${point}</li>`).join('')}</ul>
                        <h4 class="font-semibold my-4">Areas for Improvement:</h4>
                        <ul class="list-inside list-disc pl-4">${data.assessment.areas_for_improvement.map(area => `<li>${area}</li>`).join('')}</ul>
                        <h4 class="font-semibold my-4">Overall Quality Score:</h4>
                        <p>${data.assessment.overall_quality_score}/100</p>
                        <h4 class="font-semibold my-4">Recommendations:</h4>
                        <ul class="list-inside list-disc pl-4">${data.assessment.recommendations.map(rec => `<li>${rec}</li>`).join('')}</ul>
                        <h4 class="font-semibold my-4">Framework-specific Analysis:</h4>
                        <ul class="list-inside list-disc pl-4">${Object.entries(data.assessment.framework_specific_analysis || {}).map(([key, value]) => `<li>${key}: ${value}</li>`).join('')}</ul>
                    `;
                }
            })
            .catch(error => {
                console.error('Error fetching latest assessment:', error);
                const errorDiv = document.getElementById('error-message');
                errorDiv.textContent = `Error fetching latest assessment: ${error.message}`;
                errorDiv.style.display = 'block';
            });
    </script>
</body>
</html>